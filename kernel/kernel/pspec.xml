<?xml version="1.0" ?>
<!DOCTYPE INARY SYSTEM "https://gitlab.com/sulinos/sulinproject/inary/raw/master/inary-spec.dtd">
<INARY>
    <Source>
        <Name>kernel</Name>
        <Homepage>http://www.kernel.org</Homepage>
        <Packager>
            <Name>Süleyman POYRAZ</Name>
            <Email>zaryob.dev@gmail.com</Email>
        </Packager>
        <License>GPLv2</License>
        <IsA>kernel</IsA>
        <Summary>The Linux kernel (the core of the Linux operating system) for Sul'n</Summary>
        <Description>kernel contains the Linux kernel, the core of any Linux operating system. The kernel handles the basic functions of the operating system: memory allocation, process allocation, device input and output, etc.</Description>
        <Archive sha1sum="8fa9a9303e8bbbd1a057259752939c53debe119b" type="tarxz">https://www.kernel.org/pub/linux/kernel/v4.x/linux-4.20.1.tar.xz</Archive>
        <AdditionalFiles>
            <AdditionalFile permission="0755" target="generate-module-list">scripts/generate-module-list</AdditionalFile>
            <AdditionalFile permission="0755" target=".config">configs/kernel-x86_64-config</AdditionalFile>
        </AdditionalFiles>
        <BuildDependencies>
            <Dependency>bc</Dependency>
            <Dependency>inary</Dependency>
            <Dependency>cpio</Dependency>
            <Dependency>docbook-xsl</Dependency>
            <Dependency>diffutils</Dependency>
            <Dependency>xmlto</Dependency>
            <!--for elfutils dirty fix-->
            <Dependency>zlib-devel</Dependency>
            <Dependency>xz-devel</Dependency>
        </BuildDependencies>
    </Source>

    <Package>
        <Name>kernel</Name>
        <RuntimeDependencies>
            <Dependency>inary</Dependency>
            <Dependency>linux-firmware</Dependency>
            <Dependency>grub2</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="executable" permanent="true">/boot</Path>
            <Path fileType="library" permanent="true">/lib/modules</Path>
            <Path fileType="data">/etc/kernel</Path>
            <Path fileType="config" permanent="true">/etc/mkinitcpio.d</Path>
        </Files>
        <Provides>
            <SCOM script="package.py">System.Package</SCOM>
        </Provides>
        <BuildFlags>
            <Flag>noDelta</Flag>
        </BuildFlags>
    </Package>

    <Package>
        <Name>kernel-module-headers</Name>
        <Summary>Kernel header files for external module building</Summary>
        <Description>kernel-module-headers includes the C header files and the necessary Kbuild files for being able to build external kernel modules.</Description>
        <Files>
            <Path fileType="header">/usr/src/linux-headers*</Path>
            <Path fileType="header">/tmp-headers*</Path>
        </Files>
    </Package>

    <Package>
        <Name>kernel-headers</Name>
        <PartOf>system.devel</PartOf>
        <Summary>Header files for the Linux kernel for use by glibc</Summary>
        <Description>kernel-headers includes the C header files that specify the interface between the Linux kernel and userspace libraries and programs. The header files define structures and constants that are needed for building most standard programs and are also needed for rebuilding the glibc package.</Description>
        <Files>
            <Path fileType="header">/usr/include</Path>
        </Files>
    </Package>

    <Package>
        <Name>kernel-docs</Name>
        <Summary>Documentation and scripts for the Linux kernel</Summary>
        <Description>kernel-docs includes several documentation files and scripts for managing several debugging and other tasks.</Description>
        <Files>
            <Path fileType="header">/usr/src/linux-headers*/Documentation</Path>
        </Files>
    </Package>

    <History>
        <Update release="1">
            <Date>2019-01-19</Date>
            <Version>4.20.1</Version>
            <Comment>First release</Comment>
            <Type package="kernel">security</Type>
            <Requires>
                <Action package="kernel">systemRestart</Action>
            </Requires>
            <Name>Süleyman POYRAZ</Name>
            <Email>zaryob.dev@gmail.com</Email>
        </Update>
    </History>
</INARY>
